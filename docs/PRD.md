# PRD: 업무 일감 관리 시스템

## 1. 개요

### 1.1 프로젝트 목적
개인 업무와 부서 업무를 통합적으로 관리할 수 있는 웹 기반 업무 일감 관리 시스템 개발

### 1.2 프로젝트 목표
- 개인 및 부서 단위의 업무 일감을 체계적으로 관리
- 업무 진행 상황의 실시간 모니터링
- 업무 제출 현황 추적 및 분석
- 효율적인 업무 할당 및 협업 지원

### 1.3 대상 사용자
- 일반 사용자: 개인 업무 관리 및 팀 업무 참여
- 팀 리더: 부서 업무 관리 및 구성원 업무 할당
- 관리자: 전체 조직의 업무 현황 모니터링

---

## 2. 핵심 기능 요구사항

### 2.1 업무 관리
#### 2.1.1 개인 업무 관리
- 개인 업무 생성, 수정, 삭제
- 업무 상태 관리 (예정, 진행중, 완료, 보류)
- 우선순위 설정 (높음, 중간, 낮음)
- 마감일 설정 및 알림
- 업무 설명 및 첨부파일 지원
- 하위 업무(Sub-task) 생성 가능

#### 2.1.2 부서 업무 관리
- 부서 단위 업무 생성 및 관리
- 팀원에게 업무 할당
- 업무 담당자 지정 (단일/복수)
- 업무 진행률 추적
- 업무 이력 관리
- 업무 템플릿 저장 및 재사용

### 2.2 대시보드
#### 2.2.1 개인 대시보드
- 나의 업무 현황 (진행중/완료/예정)
- 금일 마감 업무 목록
- 주간/월간 업무 통계
- 업무 진행률 시각화 (차트)
- 최근 활동 내역

#### 2.2.2 부서 대시보드
- 부서 전체 업무 현황
- 팀원별 업무 배분 현황
- 부서 업무 진행률
- 마감 임박 업무 알림
- 병목 구간 식별 (지연 업무)

#### 2.2.3 전체 관리 대시보드
- 조직 전체 업무 통계
- 부서별 업무 현황 비교
- 생산성 지표 (완료율, 평균 처리 시간)
- 업무 트렌드 분석

### 2.3 제출 현황 관리
#### 2.3.1 제출 추적
- 업무 제출 상태 관리 (미제출, 제출, 승인, 반려)
- 제출 기한 관리
- 제출 이력 조회
- 제출 파일/결과물 첨부

#### 2.3.2 승인 프로세스
- 업무 검토 및 승인 기능
- 반려 시 피드백 제공
- 승인 권한 관리
- 승인 단계 설정 (1차, 2차 승인)

#### 2.3.3 제출 현황 리포트
- 부서별 제출율 통계
- 개인별 제출 현황
- 기한 준수율 분석
- 제출 지연 업무 목록

### 2.4 검색 및 필터링
- 업무 제목/내용 검색
- 상태별 필터링
- 담당자별 필터링
- 기간별 조회
- 우선순위별 정렬
- 태그 기반 분류

### 2.5 알림 시스템
- 업무 할당 알림
- 마감일 임박 알림
- 업무 상태 변경 알림
- 댓글/피드백 알림
- 제출 요청 알림

### 2.6 협업 기능
- 업무별 댓글/토론
- @멘션 기능
- 파일 공유
- 업무 히스토리 로그
- 업무 인수인계 기능

---

## 3. 비기능 요구사항

### 3.1 성능
- 페이지 로딩 시간: 3초 이내
- 대시보드 데이터 갱신: 실시간
- 동시 접속자 100명 이상 지원
- API 응답 시간: 1초 이내

### 3.2 보안
- 사용자 인증/인가 (JWT 기반)
- 역할 기반 접근 제어 (RBAC)
- 데이터 암호화 (전송/저장)
- 감사 로그 기록

### 3.3 확장성
- 마이크로서비스 아키텍처 고려
- 수평적 확장 가능
- 모듈형 구조 설계

### 3.4 사용성
- 반응형 웹 디자인 (모바일 지원)
- 직관적인 UI/UX
- 다국어 지원 (한국어, 영어)
- 접근성 표준 준수 (WCAG 2.1)

---

## 4. 시스템 아키텍처

### 4.1 기술 스택 (확정)
#### Frontend
- **Framework**: Next.js 14 (App Router, SSR First)
- **Language**: TypeScript (strict mode, no any types)
- **UI Library**: Shadcn/ui + TailwindCSS
- **Icons**: Lucide React
- **State Management**: Zustand (최소화, Server Components 우선)
- **Data Fetching**: TanStack Query (React Query)
- **Forms**: React Hook Form + Zod
- **Charts**: Recharts

#### Backend
- **Framework**: NestJS
- **Language**: TypeScript (strict mode)
- **Database**: PostgreSQL 15
- **ORM**: Prisma
- **Authentication**: JWT + Passport
- **Validation**: class-validator
- **API Documentation**: Swagger

#### DevOps
- **Containerization**: Docker + Docker Compose
- **Version Control**: Git
- **Package Manager**: npm (일관성 유지)

#### 개발 원칙 (CLAUDE.md 기반)
- ✅ SSR First - Server Components 기본 사용
- ✅ 파일당 200줄 최대 제한
- ✅ Atomic Design 패턴 (Atoms → Molecules → Organisms)
- ✅ Type-safe (any 타입 금지)
- ✅ DRY 원칙 철저히 준수
- ✅ kebab-case 파일명 (소문자, Linux 호환)
- ✅ "use client" 최소화
- ✅ No fallbacks/workarounds (근본 원인 해결)
- ✅ 매 변경 후 빌드 테스트 필수

### 4.2 주요 모듈
1. 사용자 관리 모듈
2. 업무 관리 모듈
3. 부서 관리 모듈
4. 대시보드 모듈
5. 알림 모듈
6. 파일 관리 모듈
7. 리포팅 모듈

---

## 5. 데이터 모델 (개념)

### 5.1 주요 엔티티
- User (사용자)
- Department (부서)
- Task (업무)
- TaskAssignment (업무 할당)
- TaskSubmission (업무 제출)
- Comment (댓글)
- Notification (알림)
- Attachment (첨부파일)

### 5.2 주요 관계
- User ↔ Department (다대다)
- Department ↔ Task (일대다)
- User ↔ Task (다대다, TaskAssignment를 통해)
- Task ↔ TaskSubmission (일대다)
- Task ↔ Comment (일대다)

---

## 6. UI/UX 디자인 명세 (UI.png 기반)

### 6.1 전체 레이아웃
```
┌─────────────────────────────────────────────────────────┐
│  상단 네비게이션 (업무일감 관리 / 업무 현황 / 검색 / 일감추가) │
├────────┬───────────────────────────────────────────────┤
│        │  통계 카드 (4개)                                │
│  사이드 │  ┌───┬───┬───┬───┐                             │
│  바     │  │138│54 │21 │63 │                             │
│        │  └───┴───┴───┴───┘                             │
│  메뉴   │  필터 영역 (기간 / 검색)                         │
│  - 대시 │  ───────────────────────────────                │
│  보드  │  업무 카드 그리드 (3열)                          │
│  - 내업 │  ┌────┐ ┌────┐ ┌────┐                          │
│  무*   │  │카드1│ │카드2│ │카드3│                          │
│  - 부서 │  └────┘ └────┘ └────┘                          │
│  업무  │  ┌────┐ ┌────┐ ┌────┐                          │
│  - 제출 │  │카드4│ │카드5│ │카드6│                          │
│  현황  │  └────┘ └────┘ └────┘                          │
│  - 통계 │  ───────────────────────────────                │
│  - 휴지 │  업무 목록 테이블                                │
│  통     │  ┌──────────────────────┐                       │
│  - 설정 │  │ 제목 │ 담당자 │ 마감일 │                       │
│        │  └──────────────────────┘                       │
│        │                                  [+] 일감추가     │
└────────┴───────────────────────────────────────────────┘
```

### 6.2 색상 체계
| 색상 | HEX | 용도 |
|------|-----|------|
| 빨간색 | #FF4D4D, #FF6B6B | 업무 시작 전, 지연 업무 |
| 파란색 | #4D7CFF, #5B8DEF | 진행중 업무, 주요 액션 버튼 |
| 초록색 | #4CAF50, #66BB6A | 완료 업무, 성공 메시지 |
| 주황색 | #FFA726 | 진행중 상태 (보조) |
| 분홍색 | #EC407A | 완료 상태 (보조) |
| 회색 | #F5F5F5, #E0E0E0 | 배경, 구분선 |
| 다크 그레이 | #424242, #616161 | 텍스트, 아이콘 |
| 화이트 | #FFFFFF | 카드 배경, 주요 배경 |

### 6.3 주요 컴포넌트 명세

#### 6.3.1 통계 카드
- 크기: 4개 동일 너비 (각 25% 또는 flex 1)
- 내용:
  - 상단: 숫자 (큰 폰트, 굵게)
  - 중단: 설명 텍스트 (작은 폰트)
  - 하단: 진행률 바 (색상별 구분)
- 색상 매핑:
  - 총 개수: 파란색 (#4D7CFF)
  - 진행중: 주황색 (#FFA726)
  - 완료: 분홍색 (#EC407A)
  - 예정: 초록색 (#4CAF50)

#### 6.3.2 업무 카드
- 크기: 3열 그리드 (각 33.33% 또는 flex 1)
- 구조:
  ```
  ┌─────────────────┐
  │ [상태아이콘]      │
  │ 업무 제목         │
  │                 │
  │ [아바타] 담당자   │
  │ ▓▓▓▓▓░░░░░ 50% │
  │             [...] │
  └─────────────────┘
  ```
- 요소:
  - 상태 아이콘 (왼쪽 상단, 색상별)
  - 제목 (중앙, 2줄 제한)
  - 담당자 아바타 (하단)
  - 진행률 바 (하단)
  - 더보기 아이콘 (우측 상단)

#### 6.3.3 기간 필터
- 버튼 형태: 탭 스타일
- 옵션: 1주, 2주, 1개월, 3개월, 6개월, 날짜 범위 선택
- 선택된 버튼: 배경 색상 강조
- 날짜 범위 선택: 달력 아이콘 + 날짜 표시

#### 6.3.4 업무 목록 테이블
- 컬럼: 제목, 담당자, 상태, 마감일, 우선순위
- 행 높이: 48-56px
- 호버 효과: 배경색 변경
- 체크박스: 선택 가능
- 담당자: 아바타 이미지 표시

#### 6.3.5 사이드바 네비게이션
- 너비: 240px (고정)
- 메뉴 항목:
  - 대시보드 (홈 아이콘)
  - 내 업무 (체크 아이콘, 선택됨)
  - 부서 업무 (팀 아이콘)
  - 제출 현황 (문서 아이콘)
  - 통계 (차트 아이콘)
  - 휴지통 (휴지통 아이콘)
  - 설정 (톱니바퀴 아이콘)
- 선택된 메뉴: 파란색 배경 + 흰색 텍스트

#### 6.3.6 일감 추가 버튼 (FAB)
- 위치: 오른쪽 하단 고정
- 크기: 56x56px 원형
- 색상: 파란색 (#4D7CFF)
- 아이콘: + (플러스)
- 호버: 그림자 증가

### 6.4 화면별 상세 구성

#### 6.4.1 로그인/회원가입
- 중앙 정렬 카드 레이아웃
- 로고 + 제목
- 이메일/비밀번호 입력 필드
- 로그인 버튼 (파란색)
- 회원가입 링크

#### 6.4.2 메인 대시보드 (내 업무)
**상단 영역**:
- 통계 카드 4개 (총 개수, 진행중, 완료, 예정)

**필터 영역**:
- 기간 필터 (1주, 2주, 1개월, 3개월, 6개월, 날짜 범위)
- 전체 드롭다운 (상태 필터)
- 검색 버튼

**업무 카드 그리드 영역**:
- 3열 그리드
- 각 카드: 상태 아이콘 + 제목 + 담당자 + 진행률
- 더보기 버튼 (카드별)

**업무 목록 테이블 영역**:
- 헤더: 최근 업무 + 더보기 링크
- 테이블: 제목, 담당자, 마감일, 우선순위
- 행별 상태 표시

#### 6.4.3 부서 업무
- 메인 대시보드와 동일 레이아웃
- 부서별 필터 추가
- 팀원별 필터 추가

#### 6.4.4 업무 상세 모달/페이지
- 상단: 업무 제목 + 상태 뱃지
- 좌측: 업무 설명, 첨부파일, 댓글
- 우측: 담당자, 마감일, 우선순위, 진행률

#### 6.4.5 제출 현황
- 테이블 형태
- 제출 상태별 필터 (미제출, 제출, 승인, 반려)
- 승인/반려 버튼

#### 6.4.6 통계
- 차트 영역 (막대, 원형, 선형)
- 기간별 필터
- 부서별/개인별 토글

#### 6.4.7 설정
- 탭 구조 (프로필, 부서 관리, 권한 설정)
- 폼 레이아웃

### 6.5 반응형 디자인 브레이크포인트
- Desktop: 1200px 이상
- Tablet: 768px - 1199px (사이드바 축소)
- Mobile: 767px 이하 (사이드바 햄버거 메뉴)

### 6.6 타이포그래피
- 헤딩 1: 32px, Bold
- 헤딩 2: 24px, Bold
- 헤딩 3: 20px, Semi-Bold
- 본문: 16px, Regular
- 캡션: 14px, Regular
- 작은 텍스트: 12px, Regular

---

## 7. 사용자 시나리오

### 7.1 시나리오 1: 개인 업무 관리
1. 사용자가 로그인
2. 대시보드에서 새로운 개인 업무 생성
3. 업무 제목, 설명, 마감일 설정
4. 업무 진행하며 상태 업데이트
5. 업무 완료 후 제출
6. 대시보드에서 완료된 업무 확인

### 7.2 시나리오 2: 부서 업무 할당
1. 팀 리더가 부서 업무 생성
2. 팀원 1명 이상에게 업무 할당
3. 할당된 팀원에게 알림 발송
4. 팀원이 업무 수락 및 진행
5. 팀 리더가 대시보드에서 진행 상황 모니터링
6. 팀원이 업무 제출
7. 팀 리더가 검토 후 승인/반려

### 7.3 시나리오 3: 제출 현황 확인
1. 관리자가 제출 현황 페이지 접속
2. 부서별/기간별 필터 적용
3. 제출율 및 지연 업무 확인
4. 리포트 다운로드 (CSV/PDF)

---

## 8. 우선순위

### Phase 1 (MVP - 3개월)
- 사용자 인증/인가
- 기본 업무 CRUD
- 개인 업무 관리
- 간단한 대시보드
- 업무 상태 관리

### Phase 2 (4-6개월)
- 부서 업무 관리
- 업무 할당 기능
- 제출/승인 프로세스
- 알림 시스템
- 고급 대시보드

### Phase 3 (7-9개월)
- 통계/리포팅 기능
- 협업 기능 (댓글, 멘션)
- 모바일 최적화
- 성능 최적화
- 고급 검색/필터

### Phase 4 (10-12개월)
- AI 기반 업무 추천
- 자동화 워크플로우
- 외부 시스템 연동
- 고급 분석 대시보드

---

## 9. 성공 지표 (KPI)

- 사용자 활성화율 (DAU/MAU)
- 업무 완료율
- 평균 업무 처리 시간
- 제출 기한 준수율
- 사용자 만족도 (설문)
- 시스템 가동률 (99% 이상)

---

## 10. 리스크 및 대응

### 10.1 기술적 리스크
- **리스크**: 대용량 데이터 처리 성능 저하
- **대응**: 캐싱 전략, 인덱싱 최적화, 페이지네이션

### 10.2 사용자 수용 리스크
- **리스크**: 기존 업무 방식 변경에 대한 저항
- **대응**: 점진적 도입, 사용자 교육, 피드백 수렴

### 10.3 보안 리스크
- **리스크**: 데이터 유출, 무단 접근
- **대응**: 보안 감사, 침투 테스트, 정기적 업데이트

---

## 11. 일정 및 마일스톤

| 단계 | 기간 | 주요 산출물 |
|------|------|------------|
| 요구사항 분석 | 2주 | PRD, 화면 설계서 |
| 시스템 설계 | 3주 | API 명세서, DB 스키마 |
| Phase 1 개발 | 10주 | MVP 버전 |
| 테스트 및 QA | 2주 | 테스트 리포트 |
| 베타 런칭 | 1주 | 베타 버전 |
| 피드백 수렴 및 개선 | 2주 | 개선 사항 목록 |
| 정식 런칭 | 1주 | v1.0 릴리즈 |

---

## 12. 부록

### 12.1 용어 정의
- **일감**: 수행해야 할 업무 단위
- **제출**: 완료된 업무를 검토자에게 제출하는 행위
- **승인**: 제출된 업무를 검토 후 완료 처리
- **반려**: 제출된 업무를 재작업 요청

### 12.2 참고 자료
- Jira 업무 관리 시스템
- Asana 프로젝트 관리
- Monday.com 워크플로우 관리

### 12.3 변경 이력
| 버전 | 날짜 | 변경 내용 | 작성자 |
|------|------|-----------|--------|
| 1.0 | 2025-11-13 | 초안 작성 | |
| 1.1 | 2025-11-13 | UI.png 기반 UI/UX 디자인 명세 추가, 화면 구성 상세화, 색상 체계 및 컴포넌트 명세 추가 | |
| 1.2 | 2025-11-13 | CLAUDE.md 개발 원칙 반영, 기술 스택 확정, 개발 원칙 추가 | |

---

## 13. 승인

| 역할 | 이름 | 서명 | 날짜 |
|------|------|------|------|
| 기획자 | | | |
| 개발 리드 | | | |
| 제품 책임자 | | | |
